Это проект домашнего задания по разработке REST API для сайта объявлений с использованием Flask.

## Описание проекта

Данный проект представляет собой backend часть сайта объявлений. Реализованы основные методы для работы с объявлениями:

- Создание
- Получение
- Редактирование
- Удаление

Объявление включает следующие поля:

- Заголовок
- Описание
- Дата создания
- Владелец

Дополнительно реализована система прав доступа:

- Создавать объявления могут только авторизованные пользователи
- Редактировать и удалять объявления может только их владелец

## Структура проекта

- advert.py: основной файл с API
- models.py: модели данных (User и Advert)
- client.py: клиентский скрипт для тестирования API
- docker-compose.yml: конфигурация для запуска базы данных PostgreSQL

## Как запустить и проверить

1. Установите зависимости из файла requirements.txt
2. Создайте файл .env в корневой директории проекта и настройте переменные окружения для подключения к базе данных. Пример содержимого .env файла:

    ```
    DATABASE_URL=postgresql://user:password@localhost:5432/database_name
    POSTGRES_USER=user
    POSTGRES_PASSWORD=password
    POSTGRES_DB=database_name
    ```

    Замените значения на свои реальные данные   
3. Запустите базу данных с помощью Docker Compose: docker-compose up -d
4. Запустите сервер: python advert.py
5. Для тестирования API используйте скрипт client.py

## Основные эндпоинты

- POST /user: создание пользователя
- GET /user/<id>: получение информации о пользователе
- PATCH /user/<id>: обновление данных пользователя
- DELETE /user/<id>: удаление пользователя
- POST /advert: создание объявления
- GET /advert/<id>: получение объявления
- PATCH /advert/<id>: редактирование объявления
- DELETE /advert/<id>: удаление объявления

## Примечания

- Для аутентификации используется простая схема с передачей email и пароля в заголовке Authorization
- Пароли хешируются перед сохранением в базу данных
- При удалении пользователя также удаляются все его объявления